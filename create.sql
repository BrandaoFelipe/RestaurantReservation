create table tb_client (id bigint generated by default as identity, cpf varchar(255) not null unique, email varchar(255) not null unique, name varchar(255) not null, phone_number varchar(255) not null, primary key (id));
create table tb_reservation (id integer generated by default as identity, number_of_people integer not null, begin_reservation timestamp(6) not null, client_id bigint not null, end_reservation timestamp(6) not null, primary key (id));
create table tb_restaurant_table (capacity integer not null, table_number integer not null, id bigint generated by default as identity, primary key (id));
create table tb_role (id bigint generated by default as identity, user_role varchar(255) not null unique, primary key (id));
create table tb_table_reservation (reservation_id integer, id bigint generated by default as identity, restaurant_table_id bigint, primary key (id));
create table tb_user (id bigint generated by default as identity, email varchar(255) unique, name varchar(255), password varchar(255), primary key (id));
create table tb_user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id));
alter table if exists tb_reservation add constraint FK1sup3lpj2xw3bkk9ej2u1xc57 foreign key (client_id) references tb_client;
alter table if exists tb_table_reservation add constraint FKrt8uecso0ooxc65tbp5dtuhor foreign key (reservation_id) references tb_reservation;
alter table if exists tb_table_reservation add constraint FKh29ab578pyvq55biridkqyudc foreign key (restaurant_table_id) references tb_restaurant_table;
alter table if exists tb_user_roles add constraint FKft1jmfcluls775jqp5142wvl8 foreign key (role_id) references tb_role;
alter table if exists tb_user_roles add constraint FK19t64ocsol5x06fy2cytp7gey foreign key (user_id) references tb_user;
INSERT INTO tb_client (name, cpf, email, phone_number) VALUES ('Maria Silva', '123.456.789-00', 'maria@email.com', '11999998888');
INSERT INTO tb_client (name, cpf, email, phone_number) VALUES ('Jo√£o Souza', '987.654.321-00', 'joao@email.com', '11888887777');
INSERT INTO tb_restaurant_table (table_number, capacity) VALUES (1, 4);
INSERT INTO tb_restaurant_table (table_number, capacity) VALUES (2, 2);
INSERT INTO tb_restaurant_table (table_number, capacity) VALUES (3, 6);
INSERT INTO tb_reservation (begin_reservation, end_reservation, number_of_people, client_id) VALUES ('2025-05-15 19:00:00', '2025-05-15 21:00:00', 2, 1);
INSERT INTO tb_reservation (begin_reservation, end_reservation, number_of_people, client_id) VALUES ('2025-05-16 20:00:00', '2025-05-16 22:00:00', 4, 2);
INSERT INTO tb_table_reservation (reservation_id, restaurant_table_id) VALUES (1, 2);
INSERT INTO tb_table_reservation (reservation_id, restaurant_table_id) VALUES (2, 1);
INSERT INTO tb_table_reservation (reservation_id, restaurant_table_id) VALUES (2, 3);
INSERT INTO tb_user (name, email, password) VALUES ('lotr', 'lotr@gmail.com', '$2a$10$So43N763dyUlDNLg06nfJO1boel./NDjLdjHhkW13.ldaGSgywBLC'); --123lotr;
INSERT INTO tb_user (name, email, password) VALUES ('Alicio Black', 'black@gmail.com', '$2a$10$ddU12S3pehDptZJ5M4QubOvPVTSszhF31gMwzRYgkwzrc6P0u0mF.');--123black;
INSERT INTO tb_role (user_role) VALUES ('ROLE_ADMIN');
INSERT INTO tb_role (user_role) VALUES ('ROLE_USER');
INSERT INTO tb_user_roles (user_id, role_id) VALUES (1, 1);
INSERT INTO tb_user_roles (user_id, role_id) VALUES (1, 2);
INSERT INTO tb_user_roles (user_id, role_id) VALUES (2, 2);
